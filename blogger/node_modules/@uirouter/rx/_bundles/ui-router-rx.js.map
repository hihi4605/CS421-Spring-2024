{
  "version": 3,
  "file": "ui-router-rx.js",
  "sources": [
    "../lib-esm/ui-router-rx.js",
    "../lib-esm/rx-async-policy.js"
  ],
  "sourcesContent": [
    "/** @packageDocumentation @publicapi @module rx */\nimport { ReplaySubject } from 'rxjs';\nimport { filter, map, mergeMap } from 'rxjs/operators';\n/** Augments UIRouterGlobals with observables for transition starts, successful transitions, and state parameters */\nvar UIRouterRx = /** @class */ (function () {\n    function UIRouterRx(router) {\n        this.name = '@uirouter/rx';\n        this.deregisterFns = [];\n        var start$ = new ReplaySubject(1);\n        var success$ = start$.pipe(mergeMap(function (t) {\n            return t.promise.then(function () { return t; }, function () { return null; });\n        }), filter(function (t) { return !!t; }));\n        var params$ = success$.pipe(map(function (transition) { return transition.params(); }));\n        var states$ = new ReplaySubject(1);\n        function onStatesChangedEvent(event, states) {\n            var changeEvent = {\n                currentStates: router.stateRegistry.get(),\n                registered: [],\n                deregistered: [],\n            };\n            if (event)\n                changeEvent[event] = states;\n            states$.next(changeEvent);\n        }\n        this.deregisterFns.push(router.transitionService.onStart({}, function (transition) { return start$.next(transition); }));\n        this.deregisterFns.push(router.stateRegistry.onStatesChanged(onStatesChangedEvent));\n        onStatesChangedEvent(null, null);\n        Object.assign(router.globals, { start$: start$, success$: success$, params$: params$, states$: states$ });\n    }\n    UIRouterRx.prototype.dispose = function () {\n        this.deregisterFns.forEach(function (deregisterFn) { return deregisterFn(); });\n        this.deregisterFns = [];\n    };\n    return UIRouterRx;\n}());\nexport { UIRouterRx };\nexport var UIRouterRxPlugin = UIRouterRx;\n//# sourceMappingURL=ui-router-rx.js.map",
    "/** @packageDocumentation @publicapi @module rx */\nimport { Observable, of } from 'rxjs';\nimport { first, shareReplay } from 'rxjs/operators';\n/**\n * Determines the unwrapping behavior of asynchronous resolve values.\n *\n *   - When an Observable is returned from the resolveFn, wait until the Observable emits at least one item.\n *     If any other value will be converted to an Observable that emits such value.\n *   - The Observable item will not be unwrapped.\n *   - The Observable stream itself will be provided when the resolve is injected or bound elsewhere.\n *\n * #### Example:\n *\n * The `Transition` will wait for the `main.home` resolve observables to emit their first value.\n * Promises will be unwrapped and returned as observables before being provided to components.\n * ```js\n * var mainState = {\n *   name: 'main',\n *   resolve: mainResolves, // defined elsewhere\n *   resolvePolicy: { async: RXWAIT },\n * }\n * ```\n */\nexport function RXWAIT(resolveFnValue) {\n    if (!(resolveFnValue instanceof Observable)) {\n        resolveFnValue = of(resolveFnValue);\n    }\n    var data$ = resolveFnValue.pipe(shareReplay(1));\n    return data$\n        .pipe(first())\n        .toPromise()\n        .then(function () {\n        return data$;\n    });\n}\n//# sourceMappingURL=rx-async-policy.js.map"
  ],
  "names": [
    "ReplaySubject",
    "mergeMap",
    "filter",
    "map",
    "Observable",
    "of",
    "shareReplay",
    "first"
  ],
  "mappings": "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"
}